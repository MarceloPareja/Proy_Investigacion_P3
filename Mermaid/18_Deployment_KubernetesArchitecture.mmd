graph TD
    subgraph External["ğŸŒ Internet"]
        Users["ğŸ‘¥ Users<br/>Browsers"]
        CDN["ğŸ“¦ CDN<br/>CloudFront"]
    end
    
    subgraph LoadBalancing["âš–ï¸ Load Balancing"]
        LB["ğŸ”„ AWS ALB<br/>Application Load Balancer"]
    end
    
    subgraph Kubernetes["â˜¸ï¸ Kubernetes Cluster<br/>AWS EKS"]
        subgraph Ingress["ğŸšª Ingress Layer"]
            IGC["Ingress Controller<br/>Nginx"]
        end
        
        subgraph Frontend["ğŸ¨ Frontend"]
            FE1["React App<br/>Pod 1"]
            FE2["React App<br/>Pod 2"]
            FE3["React App<br/>Pod 3"]
        end
        
        subgraph Backend["ğŸ”§ Backend"]
            API1["Django REST<br/>API Server 1"]
            API2["Django REST<br/>API Server 2"]
            API3["Django REST<br/>API Server 3"]
        end
        
        subgraph Cache["ğŸ’¾ Redis Cache"]
            RC1["Redis<br/>Master"]
            RC2["Redis<br/>Replica"]
        end
    end
    
    subgraph Database["ğŸ—„ï¸ Database"]
        PG["PostgreSQL<br/>Primary"]
        PG_R1["PostgreSQL<br/>Replica 1"]
        PG_R2["PostgreSQL<br/>Replica 2"]
    end
    
    subgraph Storage["ğŸ“¦ Storage"]
        S3["AWS S3<br/>Paper Files<br/>Uploads"]
        Backup["ğŸ”„ Backup<br/>S3 Glacier"]
    end
    
    subgraph Queue["ğŸ“¤ Message Queue"]
        Rabbit["ğŸ° RabbitMQ"]
        Celery["âš™ï¸ Celery Workers<br/>Task 1"]
        Celery2["âš™ï¸ Celery Workers<br/>Task 2"]
        Celery3["âš™ï¸ Celery Workers<br/>Task 3"]
    end
    
    subgraph Monitoring["ğŸ“Š Monitoring"]
        Prom["âœ“ Prometheus"]
        Graf["ğŸ“ˆ Grafana"]
        Log["ğŸ“‹ ELK Stack"]
    end
    
    Users --> CDN
    CDN --> LB
    Users -->|Direct| LB
    
    LB --> IGC
    IGC --> FE1 & FE2 & FE3
    IGC --> API1 & API2 & API3
    
    FE1 & FE2 & FE3 -->|API Calls| API1 & API2 & API3
    
    API1 & API2 & API3 --> RC1
    RC1 --> RC2
    RC1 --> PG
    
    PG --> PG_R1
    PG --> PG_R2
    
    API1 & API2 & API3 --> S3
    S3 --> Backup
    
    API1 & API2 & API3 --> Rabbit
    Rabbit --> Celery & Celery2 & Celery3
    
    Celery & Celery2 & Celery3 -->|Metrics| Prom
    API1 & API2 & API3 -->|Metrics| Prom
    PG -->|Metrics| Prom
    
    Prom --> Graf
    Prom --> Log
    
    style Users fill:#fff9c4
    style CDN fill:#fff9c4
    style LB fill:#81d4fa
    style IGC fill:#81d4fa
    style FE1 fill:#e1bee7
    style FE2 fill:#e1bee7
    style FE3 fill:#e1bee7
    style API1 fill:#c8e6c9
    style API2 fill:#c8e6c9
    style API3 fill:#c8e6c9
    style RC1 fill:#b2dfdb
    style RC2 fill:#b2dfdb
    style PG fill:#b2dfdb
    style PG_R1 fill:#b2dfdb
    style PG_R2 fill:#b2dfdb
    style S3 fill:#ffccbc
    style Backup fill:#ffccbc
    style Rabbit fill:#f8bbd0
    style Celery fill:#f8bbd0
    style Celery2 fill:#f8bbd0
    style Celery3 fill:#f8bbd0
    style Prom fill:#ffe0b2
    style Graf fill:#ffe0b2
    style Log fill:#ffe0b2
